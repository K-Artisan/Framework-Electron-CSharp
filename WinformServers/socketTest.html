<html>
<head>
    <title>WebSocketTest</title>
    <style>
        body {
            text-align: center;
        }

        #login {
            margin: 0 auto;
            width: 400px;
        }

        #userName {
            height: 26px;
        }

        #pwd {
            height: 25px;
        }

        #btnLogin {
            width: 113px;
            margin-left: 0px;
        }

        #sendText {
            margin-left: 0px;
            width: 320px;
        }
    </style>
    <script src="socket-helper.js"></script>
    <script src="hander.js"></script>
    <script>
        var conf = getSocketConf();
        initSocket(conf.ip, conf.port, "你好，客户端", function (msg) {
            console.log(msg);
            alert("来自服户端" + msg.data);
        },
            function (event) {
                console.log(event);
                alert("连上了呢");
            },
            function (socket) {
                socket.close();
                alert("关闭了呢");
            });
    </script>
</head>
<body>
    <h3>WebSocketTest</h3>
    <div id="login">
        <div>
            <input id="serverIP" type="text" placeholder="服务器IP" value="127.0.0.1" autofocus="autofocus" />
            <input id="serverPort" type="text" placeholder="服务器端口" value="9000" />
            <input id="btnConnect" type="button" value="连接" onclick="connect()" />
        </div>
        <div>
            <input id="sendText" type="text" placeholder="发送文本" value="I'm WebSocket Client!" />
            <input id="btnSend" type="button" value="发送" onclick="send()" />
        </div>
        <div>
            <div>
                来自服务端的消息
            </div>
            <textarea id="txtContent" cols="50" rows="10" readonly="readonly"></textarea>
        </div>
    </div>
</body>
</html>
